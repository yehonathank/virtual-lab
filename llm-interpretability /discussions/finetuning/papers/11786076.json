{
    "content": [
        "Routinely collected health data (RCD) are currently accelerating publications that evaluate the effectiveness and safety of medicines and medical devices. One of the fundamental steps in using these data is developing algorithms to identify health status that can be used for observational studies. However, the process and methodologies for identifying health status from RCD remain insufficiently understood. While most current methods rely on International Classification of Diseases (ICD) codes, they may not be universally applicable. Although machine learning methods hold promise for more accurately identifying the health status, they remain underutilized in RCD studies. To address these significant methodological gaps, we outline key steps and methodological considerations for identifying health statuses in observational studies using RCD. This review has the potential to boost the credibility of findings from observational studies that use RCD.",
        "Routinely collected health data (RCD) refers to data generated from various clinical practice settings, including electronic medical records and administrative claims. These rich data provide a great opportunity for evaluation of the effectiveness and safety of drugs and medical devices, diagnostic and prognostic studies, helping to guide clinical care and health policy decision-making. In the field of integrative medicine researches, RCD can provide vast information include detailed information on diagnosis, traditional Chinese medicine (TCM) medications, or laboratory test results. In recent years, RCD has increasingly been used to investigate the effectiveness, utilization patterns, and post-marketing safety of TCM medication. However, the methodological quality of such studies has often been insufficient, significantly impacting the successful translation and application of the research findings.",
        "Given that RCDs are typically collected for administrative or healthcare purposes, they may pose methodological challenges when utilized for research purposes. One of the fundamental steps in leveraging RCD is identifying patients with certain health status that are of interest for research questions. For example, a researcher may want to identify patients diagnosed with type 2 diabetes, patients suspected with sepsis, or prescriptions of anti-depression medications. A multitude of methodologies can be employed to identify health statuses, ranging from simplistic approaches like utilizing ICD codes to more sophisticated techniques such as novel computational methods, notably machine learning algorithms.",
        "However, the application of inappropriate methods for health status identifying can pose a significant risk of misclassification, leading to potential inaccuracies and erroneous conclusions. For example, a study published in JAMA showed a notable variation in sepsis incidence, ranging from 2 % to 12 %, when different algorithms were applied. Nonetheless, many studies using RCD often overlook the requisite scrutiny of the rationale or suitability of the algorithms employed, frequently relying solely on ICD codes for health status identification. Yet, the utilization of ICD codes for identifying specific diseases may present challenges due to factors such as unrecorded diagnostic findings or the absence of specific diagnostic codes (e.g., pseudogout). Furthermore, while some researchers assert that machine learning methods may offer enhanced accuracy in identifying some specific health status, such as sepsis, these methods were seldom used in observational studies using RCD.",
        "Thus, we believe it is important for all stakeholders to understand when and how to employ appropriate algorithms. In this review, we outline the key steps involved in employing algorithms to identify health status in observational studies using RCD. Additionally, we provide an overview of the pipelines, strengths, and weaknesses of various methods used to develop identification algorithms, with the goal of supporting future research.",
        "In contrast to randomized controlled trials, where health statuses of participants are prospectively collected with uniform definition, RCD presents a challenge as health statuses cannot be directly obtained. RCD encompasses diverse healthcare data domains, such as demographic characteristics, vital signs, diagnoses, laboratory test results, medication prescriptions, and pathology reports. However, these data were typically collected for administrative purposes and lacking uniform definition.",
        "Consequently, to achieve a uniform definition, researchers must undertake additional steps to extract relevant information from the diverse data sources available in RCD. This involves data pre-processing to construct a research dataset, and developing algorithms to identify or categorize health status by employing standardized definitions. Fig. 1 illustrates the key steps for identifying health statuses from RCD.",
        "RCD were originally collected during the care of patients and were integrated in to Clinical Data Warehouses (CDW). The source data in CDW includes a large variety of information, ranging from structured data\u2014such as ICD codes for diagnosis, procedure codes and laboratory data\u2014to free-text clinical narratives and imagines. The source data often exhibit characteristics like noise, sparsity, and incomplete records. To effectively use RCD for clinical research, researchers must undertake rigorous data curation, which may include the integration of data from multiple healthcare institutions. This process also entails the selective extraction of pertinent data elements that are aligned with specific research objectives, followed by the cleansing and standardization of these elements to assemble a coherent research dataset.",
        "A desirable research dataset should include a comprehensive set of data elements that satisfy the research objectives. For example, in studies on diabetes, the research dataset may at least include elements such as ICD codes for diabetes and its comorbidity, prescriptions for antidiabetic medications, levels of glucose, and so forth. Therefore, it is crucial for researchers to evaluate the accessibility and quality of the essential data elements from the selected source data.",
        "Identifying health status from the research dataset is a fundamental step to answer a research question. For example, researchers may employ algorithms to ascertain if a patient has sepsis, and this determination could be pivotal for assessing their eligibility for inclusion, or ascertaining the presence or absence of outcomes of interest within the target population, or establishing baseline characteristics of the study cohort.",
        "However, the meta-data within the research dataset usually cannot be directly used to identify the health status. For example, the absence of a diagnosis code for a patient usually does not automatically imply the absence of a particular disease. For instance, previous studies found that over 40 % of patients with Alzheimer's disease were not identified by the specific diagnosis code (i.e., 692.0 or 698.1), and over 60 % of patients with sepsis were not coded. Thus, researches should dedicatedly develop the algorithms that can accurately identify the health status.",
        "Identifying health status typically involves developing computer-executable algorithms that combined multiple data elements. For example, in identifying pulmonary arterial hypertension (PAH), an algorithm using only ICD-9 codes 416.0 and 416.8 yielded a positive predictive value (PPV) of only 9.3 %, while integrating information on two or more classes of PAH specific medications increased the PPV to 66.9 %. Therefore, to address a specific clinical question, it may be necessary to select various data elements to define the health status and incorporate them into algorithms.",
        "Both establishing a research dataset and identifying health status are vital steps for conducting studies using RCD. The construction of a research dataset entails the extraction and refinement of a comprehensive pool of data, often without strict adherence to a predefined research question. Conversely, the identification of health statuses serves as a crucial means of structuring the research dataset to align with the analytical requirements. Unlike dataset construction, health status identification demands a well-defined research inquiry and standardized definitions. By applying identification algorithms developed using multiple data elements from research dataset, researchers can effectively select participants meeting inclusion criteria or attribute specific health status values. Subsequently, the research dataset undergoes further refinement to transition into the analytical dataset.",
        "While the process of constructing the research dataset has been extensively discussed elsewhere, in this paper, we focus primarily on introducing the methods for identifying health status.",
        "In general, two primary methods are commonly employed in the development of identification algorithms: rule-based methods and machine learning methods. Rule-based methods involve integrating data elements through logical rules derived by experts, while machine learning methods utilize models to classify whether a patient falls into the category of cases or controls. Each method may be suited to different scenarios with its own strengths and weaknesses. In order to assist researchers in selecting the most suitable method and enhancing the accuracy of the identification algorithms, we have compiled details regarding the applicability, strengths, and limitations of both methods.",
        "The rule-based algorithms are particularly suitable for identifying health statuses that are characterized by simple disease or well-defined diagnoses. Examples include diabetes, atrial fibrillation (AF), and cirrhosis, all of which have been successfully identified using rule-based algorithms with good accuracy.",
        "The suitability of rule-based algorithms for identifying the status of these conditions lies in their well-established nature in clinical settings. The accuracy or completeness of diagnosis codes for these conditions is often higher. In addition, these diseases also can be confirmed by the objective laboratory test results or medications. Therefore, they can be effectively identify using structured data elements (such as diagnosis code results of laboratory test, vital signs, and prescription orders) and logic rules, such as Boolean operations (e.g., OR, AND, NOT), comparative operations (e.g., setting a threshold for laboratory test results), and aggregative functions (e.g., CHADS2).",
        "For instance, determining whether a patient has diabetes can involve logical assessments using ICD-9 codes related to diabetes, levels of glucose or hemoglobin A1c and antidiabetic medications. Similarly, algorithms that employ logical combinations of data elements\u2014such as the frequency of electrocardiograms with AF, electrical cardioversion, antiarrhythmic use, novel oral anticoagulant use, and the ICD-9 codes for AF\u2014can assist in determining whether a patient has AF.",
        "Rule-based algorithms exhibit significant variability. Different algorithms can be developed for the same disease based on varying combinations of data elements and rules, resulting in differing levels of accuracy. For example, algorithms for identifying type 2 diabetes can be developed using ICD codes from outpatient or inpatient setting, or combining elements such as elevated fasting glucose or hemoglobin A1c. However, algorithms relying on solely outpatient diagnoses typically show lower accuracy compared to those based on inpatient diagnoses, and incorporating laboratory tests may help enhance the positive predictive values at the expense of sensitivity. Understanding how different data elements affect algorithm accuracy is essential for researchers. Table 1 displays considerations for utilizing various types of data elements in developing identification algorithms.",
        "Regardless of the data elements used, the logical constraints (rules) should adhere to healthcare guidelines or expert opinions. In the development of rule-based algorithms, the active participation of domain clinicians is crucial important. Clinicians can provide invaluable insights into disease diagnosis, medication usage trends, and characteristics for distinguishing similar conditions.",
        "Rule-based methods have been the most commonly employed techniques for developing identification algorithms, showcasing several strengths. These algorithms inherently provide interpretability, assisting in standard health status definition and enabling effective classification. Additionally, rule-based algorithms offer flexibility through the easy addition or removal of data elements, enabling adjustments to algorithm accuracy to meet specific research needs. Different health status may have distinct requirements for algorithm accuracy (e.g., sensitivity, specificity). For instance, when the health status was used to determine the occurrence of outcomes among participants, the algorithms may require high specificity.",
        "However, these strengths diminish when dealing with complex conditions. The development of rule-based algorithms heavily relies on human customization. When dealing with health statuses that involve high-dimensional data elements, the effort and time required for developing the algorithms can be significant, potentially extending beyond six months.",
        "Machine learning methods are particularly valuable for identification tasks involving complex diseases, vague diagnoses, subjective judgement, as well as scenarios where the relationship between input data and the health status (e.g., presence or not presence of health event of interest) is non-linear or too complex to be formulated by simple logic rules or functions.",
        "Take primary hyperparathyroidism (PHPT) as an example. The clinical diagnosis for PHPT relies on multiple laboratory test results including PTH, calcium, and vitamin D. However, the trend of these indices may vary and relies more on the subjective judgement by clinicians. For example, some cases may exhibit hypercalcemia alongside inappropriately normal concentrations of parathyroid hormone (PTH), while others may show a normal rage of calcium concentration but elevated PTH levels. Moreover, the PTH may be undermeasured in over 60 % of the PHPT cases. This complexity makes it challenging to develop rule-based algorithms using these data elements. Yash and colleagues developed machine learning algorithms using preoperative calcium, vitamin D, creatinine, PTH as inputs, achieving the accuracy of 95.2 %. Interestingly, even when excluding PTH, which had the most missing values among predictors, the accuracy of the identification algorithms did not significantly decrease.",
        "The case of sepsis also illustrates the application of machine learning methods. Sepsis is a complex syndrome involving organ dysfunction resulting from infection. Several rule-based algorithms have been developed to identify sepsis, but they tend to exhibit low sensitivity or precision due to the fuzzy pathobiology of sepsis, which is not easily captured by rules. For this condition, machine learning methods have demonstrated higher accuracy for identification.",
        "The development of identification algorithms using machine learning includes supervised or unsupervised methods. Supervised learning relies on labeled data to identify the status of health event of interest, whereas unsupervised methods uncover patterns without labeled health event status. Interpreting the resulting classification of health status derived from unsupervised learning is challenging, as there may be no clear ground truth for the assigned groups. Most existing machine learning applications in health status identification rely on supervised learning. However, the accuracy of these algorithms heavily relies on the quality of training labels, which can be obtained through various strategies such as manual chart review, linkage to external databases, expert-defined rules, and pathology reports.",
        "In addition to the quality of training labels, the applicability of the model plays a crucial role in ensuring accurate identification. For instance, the regression or tree model can provide the clear relationship between input data and the health events but limited by their simplicity. Neural networks models can handle complex or non-linear relationships (e.g., dynamic time-series data or time-dependent relationships) but are limited in interpretability. These considerations are vital throughout the algorithm development process to achieve precise disease identification within EHR data.",
        "Machine learning methods have the potential to effectively process noisy, high-dimensional data and uncover hidden patterns. This approach is particularly suitable for complex situations where the disease to be identified has a fuzzy boundary with similar diseases, as it does not require the health event to be well pre-specified. Additionally, machine learning methods are less affected by data quality issues compared to rule-based methods.",
        "However, developing a machine learning algorithm comes with several limitations. Firstly, obtaining high-quality training labels can be challenging, often requiring a significant number of manual chart reviews, which is time-consuming and demands expertise from domain experts. Secondly, machine learning algorithms, especially deep learning methods, can be challenging to interpret, as they often function as \"black boxes\". The lack of transparency raises uncertainty about how the algorithm makes decisions and how its classification outcomes align with the definitions of health statuses in the research questions. Another limitation lies in the portability of the model. If the model was trained on poorly representative samples, its performance may not be satisfactory when applied to the entire dataset, despite achieving good performance on the training data.",
        "We see many efforts have been doing to assist the identification of health statuses.",
        "Firstly, there are publicly available platforms that have collected a variety of developed and validated algorithms. Although the portability of algorithms across different databases is challenging, the data elements, logic rules, or machine learning models within these methods serve as valuable references for algorithms development.",
        "Secondly, the utilization of unstructured data (e.g., free texts written by clinician) can help improve the performance of identification algorithms, which may require pre-processing through natural language processing (NLP) techniques or large language model (LLM). Studies have found that NLP have the potential to facilitate the automated transformation of free texts written by clinicians into structured codes.",
        "Thirdly, ongoing standardization efforts in electronic health record (EHR) data, such as the Systematized Nomenclature of Medicine Clinical Terms (SNOMET CT), provide promising future for enhancing data structuring and facilitating more effective information utilization.",
        "These efforts hold the potential to significantly advance the identification of health statuses and facilitate studies on drug safety, exploration of risk factors, and analysis of healthcare utilization patterns. Furthermore, they provide a path for rapid translation of research findings in healthcare delivery.",
        "The integrated TCM and Western Medicine (WM) approach has been widely adopted for treating acute pancreatitis (AP) in China. To investigate the treatment effect of integrative therapy, we established a research database comprising 44,033 AP patients. In this study, health statuses of interest include TCM syndromes of included patients, the presence or absence of sepsis, and whether patients received the treatment of chaiqin chengqi decoction (CQCQD).",
        "To identify patients who received CQCQD, we employed the rule-based algorithms, since this information was well-structured and suitable to such an approach. For identifying patients with sepsis, we opted for a machine learning approach due to the diagnostic complexity of sepsis, which involves multiple clinical factors that cannot be easily captured by simple logic rules. To enhance the classification performance, we implemented rigorous labeling strategies and chose appropriate models.",
        "With respect to TCM syndrome, the information is generally embedded within unstructured free-text documents, such as admission summaries and progress notes, making it challenging to directly apply for clinical research. To address this issue, we employed NLP technology to assist in extracting relevant TCM syndrome information from these texts and encoding it into a structured format. Then, the presence or absence of a specific TCM syndrome were identified using rule-based algorithms composed of the codes we have assigned.",
        "In light of the exponential increase in the use of RCD in clinical studies, efforts to enhance the quality of these studies are undoubtedly necessary. Identifying health statuses represent a fundamental step in implementing studies using RCD. The choice of suitable methods for developing identification algorithms may vary depending on the characteristics of health events to be identified. The careful selection of an appropriate algorithm for identifying health statuses emerge as a pivotal step in reducing resources waste or enhancing the accuracy of algorithms to be constructed.",
        "This review provides application scenarios, strengths and weakness of different methods for developing identification algorithms. As the structured nature of RCD evolves and clinical recognition or diagnosis methods for diseases advance, the most suitable methods may shift. Researchers need to adopt a dynamic perspective, considering these changes in the context of clinical questions. Regardless of the method used to develop the algorithm, thorough validation is imperative to provide further insights into the robustness of study results."
    ],
    "title": "Methods for identifying health status from routinely collected health data: An overview"
}